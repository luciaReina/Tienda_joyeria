<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Formulario Producto</title>
    <link rel="stylesheet" th:href="@{/css/admin-style.css}">
    <title th:text="${title}">Panel Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/admin-style.css}">
    <script th:src="@{/js/crud.js}"></script>
    <style>
        :root {
            --main-bg: #2d004d;
            --main-light: #f4f0f8;
            --highlight: #b197cb;
        }

        body {
            margin: 0;
            font-family: sans-serif;
        }

        nav.sidebar {
            width: 250px;
            background-color: var(--main-bg);
            color: white;
            min-height: 100vh;
        }

        nav.sidebar a {
            color: white;
            text-decoration: none;
        }

        nav.sidebar .nav-link.active {
            font-weight: bold;
            background-color: #3c0066;
        }

        header.topbar {
            background-color: var(--main-bg);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table thead {
            background-color: var(--main-bg);
            color: white;
        }

        .btn-primary {
            background-color: var(--main-bg);
            border: none;
        }

        .btn-primary:hover {
            background-color: #3c0066;
        }

        .cabecera {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .titulo {
            font-size: 24px;
            font-weight: bold;
        }

        .panel-admin {
            font-size: 24px;
            font-weight: bold;
        }

        .form-card {
            background-color: white;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            padding: 2rem;
            max-width: 600px;
            margin: 2rem auto;
        }

        .form-card input[type="text"],
        .form-card input[type="number"],
        .form-card textarea,
        .form-card select {
            width: 100%;
            border: 2px solid var(--main-bg);
            border-radius: 5px;
            padding: 0.5rem;
            margin-bottom: 1rem;
        }

        .form-card label {
            font-weight: bold;
        }

        .form-buttons {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
        }

        .btn-secondary {
            background-color: #ccc;
            border: none;
            color: #000;
        }

        .btn-secondary:hover {
            background-color: #bbb;
        }
    </style>
</head>
<body class="d-flex flex-column min-vh-100">

    <!-- Topbar -->
    <header class="topbar">
        <div class="panel-admin">PANEL DE ADMINISTRADOR</div>
        <div class="titulo">IVI REINA</div>
        <div class="cabecera">
            <span>üë§ ADMIN</span>
            <a href="/logout" class="text-white">cerrar sesi√≥n</a>
        </div>
    </header>

    <!-- Contenido -->
    <div class="flex-grow-1 p-4" style="background-color: var(--main-light);">
        <div class="form-card">
            <h2 th:text="${producto.idProducto == null} ? 'Nuevo Producto' : 'Editar Producto'"></h2>
            <form th:action="@{/admin/productos/guardar}" th:object="${producto}" method="post">
                <input type="hidden" th:field="*{idProducto}" />

                <label>Nombre:</label>
                <input type="text" th:field="*{nombre}" required />

                <label>Descripci√≥n:</label>
                <textarea th:field="*{descripcion}" required></textarea>

                <label>Estilo:</label>
                <input type="text" th:field="*{estilo}" />

                <label>Precio:</label>
                <input type="number" step="0.01" th:field="*{precio}" required />

                <label>Stock:</label>
                <input type="number" th:field="*{stock}" required />

                <label>Categor√≠a:</label>
                <select th:field="*{categoria}">
                    <option th:each="cat : ${categorias}" th:value="${cat.idCategoria}" th:text="${cat.tipo}"></option>
                </select>

                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">Guardar</button>
                    <a href="/admin/crud#productos" class="btn btn-secondary">Volver</a>
                </div>
            </form>
        </div>
    </div>

</body>
</html>
